{"version":3,"file":"js/312.7a178aa3.js","mappings":"iiCASA,MAAMA,GAAQC,EAAAA,EAAAA,MAIRC,GAAkBC,EAAAA,EAAAA,IAAI,IACtBC,GAAqBD,EAAAA,EAAAA,IAAI,IACzBE,GAAqBF,EAAAA,EAAAA,IAAI,GAEzBG,GAAoBH,EAAAA,EAAAA,IAAI,GACxBI,GAA0BJ,EAAAA,EAAAA,IAAI,GAE9BK,GAAmBL,EAAAA,EAAAA,IAAI,KAQ7BM,EAAAA,EAAAA,KAAU,SAIV,MAAMC,EAAkBC,gBAChBX,EAAMY,SAAS,cAAeV,EAAgBW,OACpDL,EAAiBK,MAAMC,KAAKZ,EAAgBW,OAC5CX,EAAgBW,MAAQ,EAAE,EAGtBE,EAAqBJ,UACzBX,EAAMY,SAAS,iBAAkBR,EAAmBS,MAAM,EAItDG,EAAYL,UAChB,MAAMM,EAAOC,EAAAA,GAAQC,QAAQ,UAAW,UAClCnB,EAAMY,SAAS,YACrBK,IACAC,EAAAA,GAAQE,QAAQ,SAAS,GAEzBpB,EAAMqB,OAAO,YAAaC,EAAcT,OACxCU,QAAQC,IAAIxB,EAAMyB,MAAMC,OAAO,EAG3BJ,GAAgBK,EAAAA,EAAAA,IAAS,CAE7BC,IAAKA,IAAM5B,EAAMyB,MAAMC,OACvBG,IAAMhB,GAAUb,EAAMqB,OAAO,YAAaR,KAItCiB,EAAYnB,UAChB,MAAMM,EAAOC,EAAAA,GAAQC,QAAQ,SAAU,UACjCnB,EAAMY,SAAS,YAAaC,GAClCI,IACAjB,EAAMqB,OAAO,YAAaR,EAAM,EAElC,IAAIkB,GAAiB5B,EAAAA,EAAAA,IAAI,GASzB,MAAM6B,EAAYrB,UAChB,MAAMM,EAAOC,EAAAA,GAAQC,QAAQ,SAAU,UACjCnB,EAAMY,SAAS,YAAaC,GAClCI,IACAjB,EAAMqB,OAAO,YAAYR,EAAM,EAGjC,IAAIoB,GAAiB9B,EAAAA,EAAAA,IAAI,G,kjFC7EzB,MAAM+B,EAAc,EAEpB,O","sources":["webpack://blockchain/./src/views/CreateProgramView.vue","webpack://blockchain/./src/views/CreateProgramView.vue?8f47"],"sourcesContent":["<script setup>\nimport { Input, Space, Button, InputGroup } from \"ant-design-vue\";\n\nimport { ref, onMounted, computed } from \"vue\";\n\nimport { message } from 'ant-design-vue';\n\nimport { useStore } from \"vuex\";\n// 获取store对象\nconst store = useStore();\n\n// import store from '@/store/index'\n\nconst AddOwnerAddress = ref(\"\");\nconst ReduceOwnerAddress = ref(\"\");\nconst ChangeOwnerAddress = ref(0);\n\nconst approvalsRequired = ref(0);\nconst DataViewPermissionLevel = ref(0);\n\nconst OwnerAddressList = ref([]);\n// const HoldMoneyAbi = store.state.web3.HoldMoneyAbi;\n\n// const setInitialBudget = async (budget) => {\n//   const accounts = await web3.eth.getAccounts();\n//   await multisigWallet.methods.setInitialBudget(budget).send({ from: accounts[0] });\n// };\n\nonMounted(() => {\n  // store.dispatch('initWeb3'); // 测试初始化, 测试成功; 但是这个函数不应该放在这里;\n});\n\nconst addOwnerAddress = async () => {\n  await store.dispatch(\"addApprover\", AddOwnerAddress.value);// 一定记得.value;;\n  OwnerAddressList.value.push(AddOwnerAddress.value);\n  AddOwnerAddress.value = \"\";\n};\n\nconst reduceOwnerAddress = async () => {\n  store.dispatch(\"removeApprover\", ReduceOwnerAddress.value);\n};\n\n// 初始预算\nconst setBudget = async () => {\n  const hide = message.loading('合约正在部署中', 20);// 0 表示一直存在, 直到手动关闭;\n  await store.dispatch(\"initWeb3\"); // 调用函数, 创建合约;\n  hide();\n  message.success('合约部署成功',5);\n\n  store.commit(\"setBudget\", InitialBudget.value);\n  console.log(store.state.budget);\n  // console.log(InitialBudget.value);\n};\nconst InitialBudget = computed({\n  // 进行了一个绑定;\n  get: () => store.state.budget,\n  set: (value) => store.commit(\"setBudget\", value),\n});\n\n// 添加预算\nconst addBudget = async (value) => {\n  const hide = message.loading('正在添加预算', 20);\n  await store.dispatch(\"addBudget\", value);\n  hide();\n  store.commit(\"addBudget\", value);\n};\nvar addBudgetInput = ref(0);\n// const addBudgetInput = computed({\n//   get: () => store.state.budget,\n//   set: (value) => store.commit(\"addBudget\", value),\n// });\n\n\n\n// 减少预算\nconst cutBudget = async (value) => {\n  const hide = message.loading('正在减少预算', 20);\n  await store.dispatch(\"cutBudget\", value);\n  hide();\n  store.commit(\"cutBudget\",value);\n};\n\nvar cutBudgetInput = ref(0);\n// const cutBudgetInput = computed({\n//   get: () => store.state.budget,\n//   set: (value) => store.commit(\"cutBudget\", value),\n// });\n\n\n</script>\n\n<template>\n  <h1>创建项目</h1>\n  <span>Create Your Project by Block Chain</span>\n  <h4>你的预算: {{ store.state.budget }}</h4>\n  <div class=\"OutWrapper\">\n    <div class=\"wrapper\">\n      <div>\n        <span>初始预算</span>\n        <div class=\"inputSite\">\n          <Input\n            size=\"large\"\n            v-model:value=\"InitialBudget\"\n            placeholder=\"输入你的预算\"\n          />\n          <Button @click=\"setBudget\">setBudge</Button>\n        </div>\n      </div>\n      <div>\n        <span>增加预算</span>\n        <div class=\"inputSite\">\n          <Input\n            size=\"large\"\n            v-model:value=\"addBudgetInput\"\n            placeholder=\"输入你想增加的预算\"\n          />\n          <Button @click=\"addBudget(addBudgetInput)\">addBudget</Button>\n        </div>\n      </div>\n      <div>\n        <span>减少预算</span>\n        <div class=\"inputSite\">\n        <Input\n          size=\"large\"\n          v-model:value=\"cutBudgetInput\"\n          placeholder=\"输入你想减少的预算\"\n        />\n        <Button @click=\"cutBudget(cutBudgetInput)\">cutBudget</Button>\n      </div>\n      </div>\n      <div>\n        <span>增加所有者地址</span>\n        <div class=\"inputSite\">\n          <Input\n            class=\"aInput\"\n            size=\"large\"\n            v-model:value=\"AddOwnerAddress\"\n            placeholder=\"输入你想增加的地址\"\n          />\n\n          <Button @click=\"addOwnerAddress\">addAddress</Button>\n        </div>\n      </div>\n      <div>\n        <span>减少所有者地址</span>\n        <div class=\"inputSite\">\n          <Input\n            class=\"aInput\"\n            size=\"large\"\n            v-model=\"ReduceOwnerAddress\"\n            placeholder=\"输入你想去除的地址的序号\"\n          />\n          <Button @click=\"reduceOwnerAddress\">reduceAddress</Button>\n        </div>\n      </div>\n      <div class=\"OwnerIndex\">\n        <span>改变所有者地址</span>\n        <div class=\"InputGroup\">\n          <Input\n            size=\"large\"\n            v-model=\"ChangeOwnerAddress\"\n            placeholder=\"输入改变地址的序号\"\n          />\n          <Input\n            size=\"large\"\n            v-model=\"ChangeOwnerAddress\"\n            placeholder=\"输入你想更改的地址\"\n          />\n          <Button @click=\"changeOwnerAddress\">changeAddress</Button>\n        </div>\n      </div>\n    </div>\n    <div class=\"Buttom\">\n      <h2>钱包创建</h2>\n      <div class=\"WalletInputGroup\">\n        <Input\n          size=\"large\"\n          v-model=\"approvalsRequired\"\n          placeholder=\"输入签名数\"\n        />\n        <Input\n          size=\"large\"\n          v-model=\"DataViewPermissionLevel\"\n          placeholder=\"输入数据查看等级\"\n        />\n      </div>\n      <Button>CreateMultiSigWallet</Button>\n    </div>\n    <div>\n      <div>已添加的地址:</div>\n      <div class=\"List\" v-for=\"(item,index) in OwnerAddressList\" :key=\"index\">\n        <div>{{ item }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\">\nspan {\n  flex-shrink: 0;\n}\n.OutWrapper {\n  display: flex;\n  // justify-content: center; // 翻转之后, 这个无效了; 所以用align-items: center;\n  align-items: center;\n  margin-top: 6vh;\n  flex-direction: column;\n  .wrapper {\n    display: grid;\n    grid-template-columns: repeat(2, 30vw);\n    gap: 20px;\n\n    div {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      gap: 5px;\n\n      span {\n        width: 11vw;\n        display: flex; // 更精确的定位在最左边\n        // flex-shrink: 0;\n      }\n    }\n\n    .OwnerIndex {\n      .InputGroup {\n        width: 30vw;\n\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        gap: 20px;\n      }\n    }\n\n    .inputSite {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      // justify-content: flex-end;\n      gap: 10px;\n      .button-wrapper {\n        flex-grow: 100; /* 这会使输入框尽可能地占据更多的可用空间 */\n        flex-shrink: 1; /* 允许输入框在需要的时候缩小 */\n        min-width: 0; /* 防止因为内容过多导致的溢出问题 */\n      }\n      .ant-input {\n        // 默认类名\n        // flex-grow: 100; /* 这会使输入框尽可能地占据更多的可用空间 */\n        // flex-shrink: 1; /* 允许输入框在需要的时候缩小 */\n        // min-width: 0; /* 防止因为内容过多导致的溢出问题 */\n        // width: 10vw;\n      }\n      .ant-btn {\n        // flex-shrink: 0;\n        // width: 4.5vw;\n      }\n    }\n  }\n  .WalletInputGroup {\n    width: 30vw;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 20px;\n  }\n  Button {\n    background-color: #282938;\n    color: #fff;\n  }\n  .Buttom {\n    margin-top: 10vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 3vh;\n  }\n}\n</style>\n","import script from \"./CreateProgramView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CreateProgramView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CreateProgramView.vue?vue&type=style&index=0&id=46be5e94&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","AddOwnerAddress","ref","ReduceOwnerAddress","ChangeOwnerAddress","approvalsRequired","DataViewPermissionLevel","OwnerAddressList","onMounted","addOwnerAddress","async","dispatch","value","push","reduceOwnerAddress","setBudget","hide","message","loading","success","commit","InitialBudget","console","log","state","budget","computed","get","set","addBudget","addBudgetInput","cutBudget","cutBudgetInput","__exports__"],"sourceRoot":""}